<app-header [showNav]="false"></app-header>

<div class="home" *ngIf="!loadingHolderService.isLoading; else loading">
  <div class="login-card">
    <h2>Entrar com QR Code</h2>
    <button class="btn-primary" (click)="toggleQrCodeModal()">
      <span class="material-icons">qr_code</span>
      <span>Abrir QR Code</span>
    </button>
  </div>

  <div class="login-card">
    <h2>Entrar com Credenciais</h2>
    <form (ngSubmit)="loginWithCredentials()">
      <div class="form-group">
        <input
          placeholder="Email"
          type="text"
          id="username"
          [(ngModel)]="username"
          name="username"
          required
        />
      </div>
      <div class="form-group">
        <input
          placeholder="Senha"
          type="password"
          id="password"
          [(ngModel)]="password"
          name="password"
          required
        />
      </div>
      <button type="submit" class="btn-primary">Entrar</button>
      <p class="forgot-text">Esqueceu sua senha?</p>
    </form>
  </div>
</div>

<ng-template #loading>
  <app-loading></app-loading>
</ng-template>

<app-qr-code-modal
  *ngIf="showQrCodeModal"
  (close)="closeQrCodeModal()"
  (submit)="loginWithQrCode($event)"
></app-qr-code-modal>
